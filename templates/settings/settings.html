{%extends 'base/base.html'%}
{%load static%}
{% block header %}
{% include "base/header.html" %}
<title>Settings | CredoSense</title>
<link rel="stylesheet" href="{%static ''%}css/dashboard.css">
<link rel="stylesheet" href="{%static ''%}css/settings.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"
  integrity="sha512-T/tUfKSV1bihCnd+MxKD0Hm1uBBroVYBOYSk1knyvQ9VyZJpc/ALb4P0r6ubwVPSGB2GvjeoMAJJImBG12TiaQ=="
  crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css"
  integrity="sha512-mSYUmp1HYZDFaVKK//63EcZq4iFWFjxSL+Z3T/aCt4IO9Cejm03q3NKKYN6pFQzY0SBOr8h+eCIAZHPXcpZaNw=="
  crossorigin="anonymous" referrerpolicy="no-referrer" />
{% endblock header %}
{%block mainbody%}

{% include "sidebar/sidebar.html" %}
<div class="content mt-3">
  {% for message in messages %}
  <div class="alert {{ message.tags }} alert-dismissible" role="alert">
    {{message}}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {% endfor %}

  <h4>Settings</h4>
  <hr>
  <div class="row">
    <div class="col">
      <form name="atn-settings" class="form" action="{% url 'update' %}" method="post">
        {% csrf_token %}
        <div class="row g-3 align-items-center mb-3">
          <div class="col-auto">
            <label for="" class="col-form-label">Start time: </label>
          </div>
          <div class="col-auto">
            <input type="time" id="start-time" name="start-time" class="form-control" aria-describedby="startTime"
              value="{{settings.startTime|time:"H:i" }}">
          </div>
        </div>

        <div class="row g-3 align-items-center mb-3">
          <div class="col-auto">
            <label for="" class="col-form-label">End time: </label>
          </div>

          <div class="col-auto">
            <input type="time" id="end-time" name="end-time" class="form-control" aria-describedby="endTime"
              value="{{settings.endTime|time:"H:i" }}">
          </div>
        </div>

        <div class="row g-3 align-items-center mb-3">
          <div class="col-auto">
            <label for="" class="col-form-label">Count delay after: </label>
          </div>

          <div class="col-auto">
            <input type="time" id="delay-time" name="delay-time" class="form-control" aria-describedby="delayTime"
              value="{{settings.delayTime|time:"H:i" }}">
          </div>
        </div>

        <div class="row g-3 align-items-center mb-3">
          <div class="col-auto">
            <label for="" class="col-form-label">Weekends: </label>
          </div>

          <div class="col-auto">
            <!-- hidden paramenter to send not checked value -->
            <input type='hidden' value='0' name="week-saturday">
            <input type="checkbox" class="btn-check" id="week-saturday" name="week-saturday" autocomplete="off"
              {% if settings.week_saturday %} checked {%endif%}>
            <label class="btn btn-outline-primary mb-2" for="week-saturday">Saturday</label>

            <input type='hidden' value='0' name="week-sunday">
            <input type="checkbox" class="btn-check" id="week-sunday" name="week-sunday" autocomplete="off"
              {% if settings.week_sunday %} checked {%endif%}>
            <label class="btn btn-outline-primary mb-2" for="week-sunday">Sunday</label>

            <input type='hidden' value='0' name="week-monday">
            <input type="checkbox" class="btn-check" id="week-monday" name="week-monday" autocomplete="off"
              {% if settings.week_monday %} checked {%endif%}>
            <label class="btn btn-outline-primary mb-2" for="week-monday">Monday</label>

            <input type='hidden' value='0' name="week-tuesday">
            <input type="checkbox" class="btn-check" id="week-tuesday" name="week-tuesday" autocomplete="off"
              {% if settings.week_tuesday %} checked {%endif%}>
            <label class="btn btn-outline-primary mb-2" for="week-tuesday">Tuesday</label>

            <input type='hidden' value='0' name="week-wednesday">
            <input type="checkbox" class="btn-check" id="week-wednesday" name="week-wednesday" autocomplete="off"
              {% if settings.week_wednesday %} checked {%endif%}>
            <label class="btn btn-outline-primary mb-2" for="week-wednesday">Wednesday</label>

            <input type='hidden' value='0' name="week-thursday">
            <input type="checkbox" class="btn-check" id="week-thursday" name="week-thursday" autocomplete="off"
              {% if settings.week_thursday %} checked {%endif%}>
            <label class="btn btn-outline-primary mb-2" for="week-thursday">Thursday</label>

            <input type='hidden' value='0' name="week-friday">
            <input type="checkbox" class="btn-check" id="week-friday" name="week-friday" autocomplete="off"
              {% if settings.week_friday %} checked {%endif%}>
            <label class="btn btn-outline-primary mb-2" for="week-friday">Friday</label>
          </div>
        </div>

        <div class="row g-3 align-items-center mb-3">
          <div class="col-auto">
            <label for="" class="col-form-label">Additional off days: </label>
          </div>

          <div class="col-9">

            <input type="text" class="form-control off-date" name="off-days" value="{{settings.offDay}}" id="offdays"/>
            

            <!-- <input type="text" class="off-date" name="off-days" 
             style=" top: 500px; position: absolute;"/> -->

            <!-- <button type="button" id="off-date-btn" name="off-days" class="btn btn-primary off-date-btn">Primary</button> -->
            
            
            
            <!-- <textarea class="form-control off-date" name="off-days" value="{{settings.offDay}}"></textarea> -->

            <!-- <textarea class="form-control off-date" name="off-days" rows="5" placeholder="Qualification &#10;Education &#10;Background *"></textarea> -->
          </div>
        </div>

        <div class="row g-3 align-items-center mb-3">
          <div class="col-auto">
            <label for="" class="col-form-label">Additional working days: </label>
          </div>

          <div class="col-9">
            <input type="text" class="form-control work-date" name="work-days" value="{{settings.workDay}}" />
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-auto">
            <button type="button" class="btn btn-secondary">Cancel</button>
            <button type="submit" class="btn btn-primary">Save</button>
          </div>
        </div>
      </form>
    </div>
  </div>

</div>

</div>
<script>
  var d = document.getElementById("settings");
  d.className += " active";
</script>

<script>
  $(document).ready(function () {
    $('#attendanceTable').DataTable();
  });
</script>

<script>

//   $('.off-date-btn').datepicker({
//     multidate: true,
//     altField: "#offdays"
//   });
//   $('.off-date-btn').datepicker()

// //   $(".off-date-btn").click(function () {
// //     $(".off-date").datepicker("show");
// // });


  $('.off-date').datepicker({
    multidate: true
  });
  // // $('.date').datepicker('setDates', [new Date(2014, 2, 5), new Date(2014, 3, 5)])
  $('.off-date').datepicker()
</script>

<script>
  $('.work-date').datepicker({
    multidate: true
  });
  // $('.date').datepicker('setDates', [new Date(2014, 2, 5), new Date(2014, 3, 5)])
  $('.work-date').datepicker()
</script>


<script>
  $("#datepicker").datepicker({
    altField: "#alt",
    multidate: true
});
$('#datepicker').on('change', function () {
    $(this).val("")
})
</script>
{% endblock %}