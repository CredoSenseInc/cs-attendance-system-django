{%extends 'base/base.html'%}
{%load static%}
{% block header %}
{% include "base/header.html" %}
<title>Dashboard | CredoSense</title>
<link rel="stylesheet" href="{%static ''%}css/dashboard.css">
<link rel="stylesheet" href="{%static ''%}css/settings.css">
{% endblock header %}
{%block mainbody%}

{% include "sidebar/sidebar.html" %}

<div class="content">
    <div class="card mt-3">
        <h5 class="card-header">Daily summary ({{current_date}})</h5>
        <div class="card-body">
            <div class="row">
                <div class="col-12 col-sm-6 col-md-3 py-2">
                    <div class="card-counter primary">
                        <div class="row">
                            <div class="col">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="col">
                                <span class="count-numbers">12</span>
                                <span class="count-name">Employees</span>
                            </div>
                        </div>
                    </div>
                </div>
        
                <div class="col-12 col-sm-6 col-md-3 py-2">
                    <div class="card-counter success">
                        <div class="row">
                            <div class="col">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="col">
                                <span class="count-numbers">12</span>
                                <span class="count-name">Present</span>
                            </div>
                        </div>
                    </div>
                </div>
        
                <div class="col-12 col-sm-6 col-md-3 py-2">
                    <div class="card-counter info">
                        <div class="row">
                            <div class="col">
                                <i class="fas fa-user-clock"></i>
                            </div>
                            <div class="col">
                                <span class="count-numbers">12</span>
                                <span class="count-name">Late</span>
                            </div>
                        </div>
                    </div>
                </div>
        
                <div class="col-12 col-sm-6 col-md-3 py-2">
                    <div class="card-counter danger">
                        <div class="row">
                            <div class="col">
                                <i class="fas fa-times-circle"></i>
                            </div>
                            <div class="col">
                                <span class="count-numbers">12</span>
                                <span class="count-name">Absent</span>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>

            <div style="overflow-x:auto;" class="card mt-3">
                <!-- <h5 class="card-header">Attendance log (December)</h5> -->
                <div class="card-body">
                    <table id="attendanceTableDaily" class="table table-striped table-hover" style="width:100%">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>ID</th>
                                <th>Status</th>
                                <th>In time</th>
                                <th>Out time</th>
                            </tr>
                        </thead>
                        <tbody>
                            {%for list in daily_log_list%}
                            {% include "dashboard/editDailyModal.html" %}
                            <tr>

                                <script>
                                    console.log({{list.emp.emp_id}})
                                </script>
                                <td><a href="#" data-bs-toggle="modal" data-bs-target="#edit-daily{{list.id}}">{{list.emp.emp_name}}</a></td>
                                <td>{{list.emp.emp_id}}</td>
                                <td>{% if list.emp_present %}Present {% else %}Absent{%endif%}</td>
                                <td>{{list.emp_in_time}}</td>
                                <td>{{list.emp_out_time}}</td>
                            </tr>
                            {%endfor%}
                        </tbody>
                        <!-- <tfoot>
                            <tr>
                                <th>Name</th>
                                <th>Position</th>
                                <th>Office</th>
                                <th>Age</th>
                                <th>Start date</th>
                                <th>Salary</th>
                            </tr>
                        </tfoot> -->
                    </table>
                </div>
              </div>
        </div>
    </div>
    

    <div style="overflow-x:auto;" class="card mt-3">
        <h5 class="card-header">Attendance log ({{current_month}})</h5>
        <div class="card-body">
            <table id="attendanceTable" class="table table-striped table-hover" style="width:100%">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>ID</th>
                        <th>Status</th>
                        <th>Date</th>
                        <th>In time</th>
                        <th>Out time</th>
                    </tr>
                </thead>
                <tbody>
                    {%for list in log_list%}
                    <tr>
                        <td>{{list.emp.emp_name}}</td>
                        <td>{{list.emp.emp_id}}</td>
                        <td>{% if list.emp_present %}Present {% else %}Absent{%endif%}</td>
                        <td>{{list.date}}</td>
                        <td>{{list.emp_in_time}}</td>
                        <td>{{list.emp_out_time}}</td>
                    </tr>
                    {%endfor%}
                </tbody>
                <!-- <tfoot>
                    <tr>
                        <th>Name</th>
                        <th>Position</th>
                        <th>Office</th>
                        <th>Age</th>
                        <th>Start date</th>
                        <th>Salary</th>
                    </tr>
                </tfoot> -->
            </table>
        </div>
      </div>

    

</div>

</div>
<script>
    var d = document.getElementById("dashboard");
    d.className += " active";
</script>

<script>
    $(document).ready(function() {
    $('#attendanceTable').DataTable();
} );
</script>

<script>
    $(document).ready(function() {
    $('#attendanceTableDaily').DataTable();
} );
</script>

{% endblock %}